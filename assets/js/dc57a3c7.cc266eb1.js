"use strict";(self.webpackChunkmirage_docs=self.webpackChunkmirage_docs||[]).push([[8810],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),h=l(n),d=i,m=h["".concat(s,".").concat(d)]||h[d]||p[d]||o;return n?a.createElement(m,r(r({ref:t},u),{},{components:n})):a.createElement(m,r({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=h;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:i,r[1]=c;for(var l=2;l<o;l++)r[l]=n[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},22732:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var a=n(87462),i=(n(67294),n(3905));const o={},r="Authentication",c={unversionedId:"components/authenticators/index",id:"components/authenticators/index",title:"Authentication",description:"For some games you may want to limit who can join or uniquely identity a user in order to save stats or communicate with friends. Authentication is checking if a user is valid and is who they say they are. There are several methods available, some examples include:",source:"@site/docs/components/authenticators/index.md",sourceDirName:"components/authenticators",slug:"/components/authenticators/",permalink:"/Mirage/docs/components/authenticators/",draft:!1,editUrl:"https://github.com/MirageNet/Mirage/tree/master/doc/docs/components/authenticators/index.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Components",permalink:"/Mirage/docs/category/components"},next:{title:"Basic Authenticator",permalink:"/Mirage/docs/components/authenticators/basic-authenticator"}},s={},l=[{value:"Encryption Notice",id:"encryption-notice",level:2},{value:"Basic Authenticator",id:"basic-authenticator",level:2},{value:"Custom Authenticators",id:"custom-authenticators",level:2},{value:"Check if a player is authenticated",id:"check-if-a-player-is-authenticated",level:2},{value:"Storing Authentication data",id:"storing-authentication-data",level:2}],u={toc:l};function p(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"authentication"},"Authentication"),(0,i.kt)("p",null,"For some games you may want to limit who can join or uniquely identity a user in order to save stats or communicate with friends. Authentication is checking if a user is valid and is who they say they are. There are several methods available, some examples include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Ask the user for username and password"),(0,i.kt)("li",{parentName:"ul"},"Use a third party OAuth2 or OpenID identity provider, such as Facebook, Twitter, Google"),(0,i.kt)("li",{parentName:"ul"},"Use a third party service such as PlayFab, GameLift or Steam"),(0,i.kt)("li",{parentName:"ul"},"Use the device id, very popular method in mobile"),(0,i.kt)("li",{parentName:"ul"},"Use Google Play in Android"),(0,i.kt)("li",{parentName:"ul"},"Use Game Center in IOS"),(0,i.kt)("li",{parentName:"ul"},"Use a web service in your website")),(0,i.kt)("h2",{id:"encryption-notice"},"Encryption Notice"),(0,i.kt)("p",null,"By default Mirage is not encrypted, so if you want to do authentication through Mirage, we highly recommend you use a transport that supports encryption."),(0,i.kt)("h2",{id:"basic-authenticator"},"Basic Authenticator"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/components/authenticators/basic-authenticator"},"Basic Authenticator"),"  "),(0,i.kt)("p",null,"Mirage includes a Basic Authenticator in the ",(0,i.kt)("inlineCode",{parentName:"p"},"Mirage/Authenticators")," folder which just uses a simple password. This will only allow people with the password to join the server. For example, a password on a hosted game so that only friends can join."),(0,i.kt)("h2",{id:"custom-authenticators"},"Custom Authenticators"),(0,i.kt)("p",null,"To Create a custom authenticator implement the ",(0,i.kt)("inlineCode",{parentName:"p"},"NetworkAuthenticator")," abstract class and override the ",(0,i.kt)("inlineCode",{parentName:"p"},"ServerAuthenticated")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"ClientAuthenticated")," methods."),(0,i.kt)("p",null,"After authenticating a player call either ",(0,i.kt)("inlineCode",{parentName:"p"},"ServerAccept"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"ServerReject"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"ClientAccept")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"ClientReject")," depending if running on Server or Client and if you it was successful or not."),(0,i.kt)("p",null,"Calling the ",(0,i.kt)("inlineCode",{parentName:"p"},"Accept")," method will cause mirage to invoke the ",(0,i.kt)("inlineCode",{parentName:"p"},"OnServerAuthenticated")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"OnClientAuthenticated")," events. Subscribe to OnServerAuthenticated and OnClientAuthenticated events if you wish to perform additional steps after authentication."),(0,i.kt)("p",null,"Calling the ",(0,i.kt)("inlineCode",{parentName:"p"},"Reject")," method will cause the player to be disconnected after a short delay."),(0,i.kt)("p",null,'When Rejecting, It is a good idea to send a message to the client to tell them that authentication failed, for example: "Server password invalid" or "Login failed".'),(0,i.kt)("h2",{id:"check-if-a-player-is-authenticated"},"Check if a player is authenticated"),(0,i.kt)("p",null,"After a player has been accepted ",(0,i.kt)("inlineCode",{parentName:"p"},"IsAuthenticated")," will be set to true. The bool can be used alongside ",(0,i.kt)("inlineCode",{parentName:"p"},"AuthenticationData")," to check if a user is allowed to do certain actions."),(0,i.kt)("h2",{id:"storing-authentication-data"},"Storing Authentication data"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"NetworkPlayer")," object has an ",(0,i.kt)("inlineCode",{parentName:"p"},"AuthenticationData")," property that can be used to store any data related to authentication, such as account id, tokens, or players username. "),(0,i.kt)("p",null,"This property is of type ",(0,i.kt)("inlineCode",{parentName:"p"},"object")," so can be set to any object and can be cast back to that object when you need to read the data."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cs"},"if (player.IsAuthenticated)\n{\n    var loginData = (MyLogInData)player.AuthenticationData;\n    var username = loginData.Username;\n    // do something with username :)\n}\n")),(0,i.kt)("p",null,"Now that you have the foundation of a custom Authenticator component, the rest is up to you. You can exchange any number of custom messages between the server and client as necessary to complete your authentication process before approving the client."),(0,i.kt)("p",null,"Authentication can also be extended to character selection and customization, just by crafting additional messages and exchanging them with the client before completing the authentication process.  This means this process takes place before the client player actually enters the game or changes to the Online scene."),(0,i.kt)("p",null,"If you write a good authenticator, consider sharing it with other users or contributing it to the Mirage project."))}p.isMDXComponent=!0}}]);